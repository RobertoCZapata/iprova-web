# iPROVA - Cursor Rules & Development Guidelines

## üéØ Principios Fundamentales

1. **Escalabilidad**: El c√≥digo debe ser f√°cil de extender sin modificar componentes existentes
2. **Mantenibilidad**: Todo el contenido editable debe estar centralizado en `lib/data.ts`
3. **Clean Code**: C√≥digo legible, bien tipado y documentado
4. **Consistencia**: Seguir siempre los mismos patrones y convenciones

---

## üìÅ Estructura de Archivos

### Organizaci√≥n de Componentes

```
components/
‚îú‚îÄ‚îÄ sections/          # Componentes de secciones de p√°gina (Header, Hero, Footer, etc.)
‚îú‚îÄ‚îÄ ui/                # Componentes UI reutilizables (Button, Card, etc.)
‚îî‚îÄ‚îÄ features/          # Componentes espec√≠ficos de features (TeamMember, ServiceCard, etc.)
```

**Reglas:**
- Cada componente debe estar en su propio archivo
- Nombres de archivos: PascalCase (ej: `HeroSection.tsx`)
- Componentes de secci√≥n van en `sections/`
- Componentes UI reutilizables van en `ui/`

### Organizaci√≥n de Datos

```
lib/
‚îú‚îÄ‚îÄ data.ts            # ‚≠ê √öNICO lugar para contenido editable (textos, arrays, objetos)
‚îú‚îÄ‚îÄ utils.ts           # Funciones utilitarias (cn, helpers, etc.)
‚îî‚îÄ‚îÄ types.ts           # Tipos TypeScript compartidos (si es necesario)
```

**Regla CR√çTICA:** 
- **NUNCA** hardcodear texto, arrays o datos en componentes
- **SIEMPRE** usar `lib/data.ts` para cualquier contenido editable
- Esto permite editar todo el contenido sin tocar componentes

---

## üé® Convenciones de C√≥digo

### TypeScript

- **SIEMPRE** usar TypeScript estricto
- **SIEMPRE** tipar props de componentes con interfaces/types
- **NUNCA** usar `any` - usar `unknown` si es necesario
- Exportar tipos/interfaces cuando se reutilicen

```typescript
// ‚úÖ CORRECTO
interface ButtonProps {
  variant?: "primary" | "outline-light" | "ghost";
  children: ReactNode;
}

// ‚ùå INCORRECTO
function Button(props: any) { ... }
```

### Componentes React

- **SIEMPRE** usar `"use client"` solo cuando sea necesario (interactividad, hooks)
- Componentes de servidor por defecto (Next.js 15 App Router)
- **SIEMPRE** usar `export function ComponentName()` en lugar de `const ComponentName = ()`
- Props deben ser tipadas con interfaces

```typescript
// ‚úÖ CORRECTO
export function Header() {
  return <header>...</header>;
}

// ‚úÖ CORRECTO (si necesita interactividad)
"use client";
export function InteractiveComponent() {
  const [state, setState] = useState();
  return <div>...</div>;
}
```

### Naming Conventions

- **Componentes**: PascalCase (`HeroSection`, `Button`, `TeamMember`)
- **Archivos de componentes**: PascalCase (`HeroSection.tsx`)
- **Funciones utilitarias**: camelCase (`cn`, `formatDate`)
- **Constantes**: camelCase para objetos, UPPER_SNAKE_CASE solo para valores primitivos inmutables
- **Props interfaces**: `ComponentNameProps` (ej: `ButtonProps`)

### Imports

- **SIEMPRE** usar path aliases (`@/components`, `@/lib`)
- **SIEMPRE** agrupar imports:
  1. React/Next.js
  2. Librer√≠as externas
  3. Componentes internos
  4. Utilidades
  5. Tipos
  6. Datos

```typescript
// ‚úÖ CORRECTO
import Image from "next/image";
import { Scale, Eye } from "lucide-react";
import { Button } from "@/components/ui/Button";
import { cn } from "@/lib/utils";
import type { Service } from "@/lib/types";
import { services } from "@/lib/data";
```

---

## üé® Tailwind CSS

### Clases y Utilidades

- **SIEMPRE** usar `cn()` de `@/lib/utils` para combinar clases
- **SIEMPRE** usar colores del Manual de Marca IPROVA:
  - `bg-primary` / `text-primary` (PANTONE 5255 C: #00184A - Navy Blue principal)
  - `bg-secondary` / `text-secondary` (PANTONE 423 C: #8E9093 - Grey secundario)
  - `bg-primary-light` / `text-primary-light` (#364F8C - Versi√≥n m√°s clara para hover/gradientes)
  - `bg-background-light` (#F8F9FA - Fondo claro)
  - `bg-background-dark` (#121212 - Fondo oscuro)
  - `bg-card-dark` (#1E1E1E - Cards en modo oscuro)
- **NUNCA** hardcodear colores con valores arbitrarios a menos que sea absolutamente necesario
- **SIEMPRE** mobile-first (clases base para mobile, luego `md:`, `lg:`)

```typescript
// ‚úÖ CORRECTO
<div className={cn("text-primary", isActive && "text-primary-light")}>

// ‚ùå INCORRECTO
<div className="text-[#00184A]">
```

### Responsive Design

- **SIEMPRE** empezar con estilos mobile
- Breakpoints: `sm:` (640px), `md:` (768px), `lg:` (1024px), `xl:` (1280px)
- **SIEMPRE** probar en mobile primero

---

## üìù Gesti√≥n de Contenido

### Regla de Oro: Centralizaci√≥n

**TODO el contenido editable debe estar en `lib/data.ts`**

### Qu√© va en `lib/data.ts`:

‚úÖ **S√ç incluir:**
- Textos de navegaci√≥n (`navItems`)
- Estad√≠sticas (`stats`)
- Servicios (`services`)
- Features/Caracter√≠sticas (`whyUsFeatures`)
- Informaci√≥n de contacto (`contactInfo`)
- Contenido de secciones (`heroContent`, `servicesSectionContent`, etc.)
- Links del footer (`footerQuickLinks`, `footerServices`)
- Miembros del equipo (cuando se agregue)

‚ùå **NO incluir:**
- L√≥gica de negocio
- Funciones utilitarias
- Tipos complejos (van en `lib/types.ts` si es necesario)

### Estructura de Datos

- **SIEMPRE** usar `as const` para arrays/objetos que no cambian
- **SIEMPRE** exportar interfaces para tipos reutilizables
- **SIEMPRE** documentar con comentarios qu√© es cada secci√≥n

```typescript
// ‚úÖ CORRECTO
export const services: Service[] = [
  {
    title: "Defensa Penal",
    description: "...",
    href: "#servicios",
    icon: Scale,
  },
] as const;

// ‚úÖ CORRECTO - Interface exportada
export interface Service {
  title: string;
  description: string;
  href: string;
  icon: Icon;
}
```

---

## üñºÔ∏è Im√°genes y Assets

- **SIEMPRE** usar `next/image` para im√°genes
- **SIEMPRE** usar `priority` en la imagen del hero
- **SIEMPRE** proporcionar `alt` descriptivo
- Im√°genes van en `public/images/`
- Usar rutas relativas desde `public/` (ej: `/images/hero.jpg`)

### Overlay de Color Primario (Manual de Marca)

**REGLA CR√çTICA**: Cuando uses im√°genes de fondo o fotos, **SIEMPRE** aplicar un overlay del color primario de la marca (`bg-primary`) para:
1. Integrar la imagen con la identidad visual
2. Asegurar legibilidad del texto blanco sobre la imagen
3. Mantener coherencia con el manual de marca

```typescript
// ‚úÖ CORRECTO - Imagen con overlay del color primario
<div className="relative">
  <Image
    src="/images/foto.jpg"
    alt="Descripci√≥n"
    fill
    className="object-cover"
  />
  {/* Overlay del color primario de la marca (PANTONE 5255 C / #00184A) */}
  <div className="absolute inset-0 bg-primary/70" />
  {/* Texto blanco sobre el overlay ser√° legible */}
  <h2 className="relative z-10 text-white">T√≠tulo</h2>
</div>

// ‚ùå INCORRECTO - Imagen sin overlay
<div className="relative">
  <Image src="/images/foto.jpg" alt="Descripci√≥n" fill />
  <h2 className="text-white">T√≠tulo</h2> {/* Puede no ser legible */}
</div>
```

**Opciones de opacidad del overlay:**
- `bg-primary/60` - Overlay ligero (para im√°genes decorativas)
- `bg-primary/70` - Overlay medio (recomendado para la mayor√≠a de casos)
- `bg-primary/80` - Overlay fuerte (para m√°ximo contraste)
- `bg-primary/90` - Overlay muy fuerte (para fondos de hero)

---

## üî§ Tipograf√≠as

- **SIEMPRE** usar **Montserrat** como fuente principal (seg√∫n Manual de Marca IPROVA)
- La fuente est√° configurada en `app/layout.tsx` y disponible como `font-sans`, `font-body`, `font-display`
- **NUNCA** usar otras fuentes sin consultar el manual de marca
- Pesos disponibles: 300 (light), 400 (regular), 500 (medium), 600 (semibold), 700 (bold), 800 (extrabold)

```typescript
// ‚úÖ CORRECTO
<h1 className="font-extrabold text-primary">T√≠tulo</h1>
<p className="font-light text-gray-600">Texto</p>

// ‚ùå INCORRECTO
<h1 className="font-serif">T√≠tulo</h1> // No usar serif
```

## üîó Iconos

- **SIEMPRE** usar `lucide-react` para iconos
- **NUNCA** usar SVG inline o Material Icons
- **SIEMPRE** importar iconos espec√≠ficos (no `*`)
- **SIEMPRE** usar tama√±os consistentes: `h-4 w-4` (sm), `h-5 w-5` (md), `h-6 w-6` (lg), `text-2xl` o `text-3xl` para iconos grandes

```typescript
// ‚úÖ CORRECTO
import { Scale, Eye, Shield } from "lucide-react";
<Scale className="h-5 w-5" />

// ‚ùå INCORRECTO
import * as Icons from "lucide-react";
<span className="material-icons-outlined">menu</span> // No usar Material Icons
```

---

## üß© Componentes Reutilizables

### Crear Nuevos Componentes UI

1. Crear en `components/ui/ComponentName.tsx`
2. **SIEMPRE** tipar props con interface
3. **SIEMPRE** usar `cn()` para clases
4. **SIEMPRE** exportar como named export
5. **SIEMPRE** hacer el componente flexible y reutilizable

```typescript
// ‚úÖ CORRECTO - Ejemplo de componente UI
interface CardProps {
  title: string;
  children: ReactNode;
  className?: string;
}

export function Card({ title, children, className }: CardProps) {
  return (
    <div className={cn("bg-white rounded-lg p-6", className)}>
      <h3>{title}</h3>
      {children}
    </div>
  );
}
```

---

## üì± Secciones de P√°gina

### Crear Nueva Secci√≥n

1. Crear en `components/sections/SectionName.tsx`
2. **SIEMPRE** importar datos de `lib/data.ts`
3. **SIEMPRE** usar IDs sem√°nticos para navegaci√≥n (`id="servicios"`)
4. **SIEMPRE** usar HTML sem√°ntico (`<section>`, `<article>`, `<header>`)
5. **SIEMPRE** hacer responsive (mobile-first)

```typescript
// ‚úÖ CORRECTO
export function ServicesSection() {
  const { services, servicesSectionContent } = useData(); // O import directo
  return (
    <section id="servicios" className="py-16">
      {/* ... */}
    </section>
  );
}
```

---

## üéØ Agregar Nuevos Servicios/Miembros/Items

### Proceso Est√°ndar:

1. **Editar `lib/data.ts`** - Agregar/quitar items del array
2. **NO tocar componentes** - Los componentes ya est√°n preparados para renderizar din√°micamente
3. **Verificar tipos** - Asegurar que el nuevo item cumple con la interface

```typescript
// ‚úÖ CORRECTO - Solo editar data.ts
export const services: Service[] = [
  // ... servicios existentes
  {
    title: "Nuevo Servicio", // ‚Üê Solo agregar aqu√≠
    description: "...",
    href: "#servicios",
    icon: NewIcon,
  },
];
```

---

## üö´ Anti-Patrones (NUNCA hacer)

‚ùå **NUNCA** hardcodear texto en componentes
‚ùå **NUNCA** usar `any` en TypeScript
‚ùå **NUNCA** crear componentes sin tipar props
‚ùå **NUNCA** usar valores de color hardcodeados (usar sistema de dise√±o)
‚ùå **NUNCA** mezclar l√≥gica de negocio con presentaci√≥n
‚ùå **NUNCA** crear componentes que no sean reutilizables sin raz√≥n
‚ùå **NUNCA** usar `console.log` en producci√≥n (usar sistema de logging)
‚ùå **NUNCA** commitear archivos de configuraci√≥n local (`.env.local`)

---

## ‚úÖ Checklist para Nuevas Features

Antes de considerar una feature completa:

- [ ] ¬øEl contenido est√° en `lib/data.ts`?
- [ ] ¬øLos componentes est√°n tipados correctamente?
- [ ] ¬øEs responsive (mobile-first)?
- [ ] ¬øUsa el sistema de dise√±o (colores, tipograf√≠as)?
- [ ] ¬øTiene HTML sem√°ntico?
- [ ] ¬øLos iconos son de `lucide-react`?
- [ ] ¬øLas im√°genes usan `next/image`?
- [ ] ¬øNo hay c√≥digo duplicado?
- [ ] ¬øEst√° documentado si es complejo?

---

## üìö Recursos y Referencias

- **Next.js 15 Docs**: https://nextjs.org/docs
- **Tailwind CSS**: https://tailwindcss.com/docs
- **Lucide Icons**: https://lucide.dev/icons/
- **TypeScript**: https://www.typescriptlang.org/docs/

---

## üîÑ Flujo de Trabajo Recomendado

1. **Planificar**: ¬øQu√© datos necesito? ‚Üí Agregar a `lib/data.ts`
2. **Crear componente**: En `components/sections/` o `components/ui/`
3. **Tipar**: Crear interfaces para props
4. **Estilizar**: Usar Tailwind con sistema de dise√±o
5. **Testear**: Verificar responsive y funcionalidad
6. **Refactorizar**: Eliminar duplicaci√≥n, mejorar reutilizaci√≥n

---

**√öltima actualizaci√≥n**: 2024
**Mantener este archivo actualizado** cuando se agreguen nuevas convenciones o patrones.

